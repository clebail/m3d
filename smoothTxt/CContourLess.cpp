//-----------------------------------------------------------------------------------------------
#include <math.h>
#include <common.h>
#include "CContourLess.h"
//-----------------------------------------------------------------------------------------------
static float theta(int x, int y) {
    float t;

    if (x == 0 && y == 0) {
        t = 0;
    } else {
        t = (float) y / (abs(x) + abs(y));
    }

    if (x < 0) {
        t = 2 - t;
    } else if (y < 0) {
        t = 4 + t;
    }

    return t * 90.f;
}
//-----------------------------------------------------------------------------------------------
bool CContourLess::operator()(struct _SPoint *a, struct _SPoint *b) const {
    return theta(a->x, a->y) < theta(b->x, b->y);
}
//-----------------------------------------------------------------------------------------------
